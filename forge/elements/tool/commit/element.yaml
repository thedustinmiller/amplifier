metadata:
  name: commit
  type: tool
  version: 1.0.0
  description: Create well-formatted git commits with conventional commit messages
  author: amplifier
  tags:
  - workflow
  - command
  license: MIT
dependencies:
  principles:
  - respect-user-time
  constitutions: []
  tools: []
  agents: []
  templates: []
  suggests: []
conflicts:
  principles: []
  tools: []
  agents: []
  reason: null
interface:
  inputs:
    arguments: Command arguments
  outputs:
    result: Command result
  role: null
  events: []
implementation:
  instructions: "# Claude Command: Commit\n\nThis command helps you create well-formatted\
    \ commits with conventional commit messages.\n\n## Usage\n\nTo create a commit,\
    \ just type:\n\n```\n/commit\n```\n\nOr with options:\n\n```\n/commit --no-verify\n\
    ```\n\n## What This Command Does\n\n1. Unless specified with `--no-verify`, automatically\
    \ runs pre-commit checks:\n   - Detect package manager (npm, pnpm, yarn, bun)\
    \ and run appropriate commands\n   - Run lint/format checks if available\n   -\
    \ Run build verification if build script exists\n   - Update documentation if\
    \ generation script exists\n2. Checks which files are staged with `git status`\n\
    3. If 0 files are staged, automatically adds all modified and new files with `git\
    \ add`\n4. Performs a `git diff` to understand what changes are being committed\n\
    5. Ensures there are is no sensitive data (like passwords, API keys, personal\
    \ info, secrets, etc.) in the staged changes, if so, aborts the commit and informs\
    \ the user\n6. Analyzes the diff to determine if multiple distinct logical changes\
    \ are present\n7. If multiple distinct changes are detected, suggests breaking\
    \ the commit into multiple smaller commits\n8. For each commit (or the single\
    \ commit if not split), creates a commit message using conventional commit format\
    \ (ensuring there is no sensitive data within the message) and considering the\
    \ available conversation history for additional context as appropriate, don't\
    \ perform the commit yet, just generate the message and show it to the user for\
    \ review\n9. Presents the generated commit message(s) to the user for review and\
    \ editing\n10. Upon user confirmation, executes the `git commit` command with\
    \ the finalized message(s)\n\n## Best Practices for Commits\n\n- **Verify before\
    \ committing**: Ensure code is linted, builds correctly, and documentation is\
    \ updated\n  - IMPORTANT: If verification fails, DO NOT proceed with the commit\
    \ and instead provide feedback on what needs to be fixed so that user can decide\
    \ how to proceed\n  - IMPORTANT: Do not actually fix issues yourself, just inform\
    \ the user of what needs to be done and give them choice to do so or to proceed\
    \ with commit anyway\n- **Atomic commits**: Each commit should contain related\
    \ changes that serve a single purpose\n- **Split large changes**: If changes touch\
    \ multiple concerns, split them into separate commits\n- **Conventional commit\
    \ format**: Use the format `<type>: <description>` where type is one of:\n  -\
    \ `feat`: A new feature\n  - `fix`: A bug fix\n  - `docs`: Documentation changes\n\
    \  - `style`: Code style changes (formatting, etc)\n  - `refactor`: Code changes\
    \ that neither fix bugs nor add features\n  - `perf`: Performance improvements\n\
    \  - `test`: Adding or fixing tests\n  - `chore`: Changes to the build process,\
    \ tools, etc.\n- **Present tense, imperative mood**: Write commit messages as\
    \ commands (e.g., \"add feature\" not \"added feature\")\n- **Leverage context**:\
    \ Use conversation history to inform commit messages when relevant, especially\
    \ where the content of the conversation could be useful for understanding the\
    \ intent of the changes when reviewing the full commit history later, especially\
    \ when reviewed by other AI tools that are attempting to understand the context\
    \ behind the changes to understand rationale, decision making, intent, problem\
    \ being solved, etc.\n- **Concise first line**: Keep the first line under 72 characters\n\
    \n## Additional Guidance\n\n$ARGUMENTS"
  allowed_tools:
  - Bash
  - Read
  - Glob
settings: {}
